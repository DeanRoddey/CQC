// ----------------------------------------------------------------------------
//  FILE: CQCClService_ClSrvServerBase.cpp
//  DATE: Tue, Jan 19 17:39:55 2021 -0500
//    ID: 7EE18BDB7E607212-6455454A53F1497B
//
//  This file was generated by the Charmed Quark CIDIDL compiler. Do not make
//  changes by hand, because they will be lost if the file is regenerated.
// ----------------------------------------------------------------------------

// ----------------------------------------------------------------------------
// Includes
// ----------------------------------------------------------------------------
#include "CQCClService.hpp"

// ----------------------------------------------------------------------------
// Magic macros
// ----------------------------------------------------------------------------
RTTIDecls(TCQCClServiceServerBase,TOrbServerBase)


// ----------------------------------------------------------------------------
// Public, static data
// ----------------------------------------------------------------------------
const TString TCQCClServiceServerBase::strInterfaceId(L"7EE18BDB7E607212-6455454A53F1497B");
// ----------------------------------------------------------------------------
// TCQCClServiceServerBase: Destructor
// ----------------------------------------------------------------------------
TCQCClServiceServerBase::~TCQCClServiceServerBase()
{
}

// ----------------------------------------------------------------------------
// TCQCClServiceServerBase: Protected Constructors
// ----------------------------------------------------------------------------
TCQCClServiceServerBase::TCQCClServiceServerBase() :
    TOrbServerBase(strInterfaceId, L"TCQCClServiceClientProxy" )
{
}

TCQCClServiceServerBase::TCQCClServiceServerBase(const TOrbObjId& ooidThis) :
    TOrbServerBase(ooidThis)
{
}

// ----------------------------------------------------------------------------
// TCQCClServiceServerBase: Public, non-virtual methods
// ----------------------------------------------------------------------------
tCIDLib::TVoid TCQCClServiceServerBase::Dispatch(const TString& strMethodName, TOrbCmd& orbcToDispatch)
{
    if (strMethodName == L"bQueryRepoDB")
    {
        TString strRepoMon;
        orbcToDispatch.strmIn() >> strRepoMon;
        TString strCurSerialNum;
        orbcToDispatch.strmIn() >> strCurSerialNum;
        tCIDLib::TCard4 c4BufSz_mbufData = 0;
        THeapBuf mbufData;
        tCIDLib::TBoolean retVal = bQueryRepoDB
        (
            strRepoMon
          , strCurSerialNum
          , c4BufSz_mbufData
          , mbufData
        );
        orbcToDispatch.strmOut().Reset();
        orbcToDispatch.strmOut() << retVal;
        orbcToDispatch.strmOut() << c4BufSz_mbufData;
        orbcToDispatch.strmOut().c4WriteBuffer(mbufData, c4BufSz_mbufData);
    }
     else if (strMethodName == L"c4QueryRepoList")
    {
        TVector<TString> colToFill;
        tCIDLib::TCard4 retVal = c4QueryRepoList
        (
            colToFill
        );
        orbcToDispatch.strmOut().Reset();
        orbcToDispatch.strmOut() << retVal;
        orbcToDispatch.strmOut() << colToFill;
    }
     else
    {
         TParent::Dispatch(strMethodName, orbcToDispatch);
    }
}

